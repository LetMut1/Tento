FROM rust:1.80.0
RUN \
    mkdir -p /_tento
RUN \
    rustup default stable
RUN \
    rustup toolchain install nightly
RUN \
    rustup component add --toolchain=stable \
        clippy \
        rust-src
RUN \
    rustup component add --toolchain=nightly-x86_64-unknown-linux-gnu \
        rustfmt
RUN \
    rustup target add --toolchain=stable \
        aarch64-apple-ios \
        aarch64-apple-ios-sim \
        aarch64-linux-android \
        x86_64-apple-ios \
        x86_64-linux-android
RUN \
    apt-get update
RUN \
    apt-get install -y \
        valgrind
RUN \
    cargo install cargo-valgrind